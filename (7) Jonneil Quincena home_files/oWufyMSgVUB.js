/*!CK:1556273089!*//*1434784098,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["dMF9N"]); }

__d("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react",["ReactComposerContextMixin","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputContainer.react","ComposedEntityType","DocumentEntity","ReactComponentWithPureRenderMixin","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=m.createClass({displayName:"ComposerStatusAttachmentMentionsInputWithTagExpansionContainer",mixins:[l,g],render:function(){var q=o(this.props.className,"_395");return (m.createElement(i,m.__spread({},this.props,{className:q,onChange:this._onChange,ref:"mentionsInput"})));},focus:function(){this.refs.mentionsInput.focus();},_onChange:function(q){h.setMentions(this.context.composerID,this._getMentionsFromEditorState(q));this.props.onChange&&this.props.onChange(q);},_getMentionsFromEditorState:function(q){var r=q.getCurrentContent(),s={};r.getBlockMap().forEach(function(t){var u=t.getText();t.findEntityRanges(function(){return true;},function(v,w){var x=t.getEntityAt(v);if(!x)return;var y=k.get(x);if(y.getType()!==j.MENTION||y.getData().type!=='user')return;var z=y.getData().id;s[z]={type:'user',uid:z,text:u.slice(v,w)};});});return s;}});e.exports=p;},null);