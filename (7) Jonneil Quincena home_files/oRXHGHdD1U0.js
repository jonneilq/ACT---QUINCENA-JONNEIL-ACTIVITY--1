/*!CK:4124082973!*//*1434993770,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["RZroU"]); }

__d("FileInput.react",["FileInput","InlineBlock.react","React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i,n=m.PropTypes,o=i.createClass({displayName:"FileInput",propTypes:{display:n.oneOf(['inline-block','inline'])},getDefaultProps:function(){return {display:'inline-block'};},render:function(){var p="_m",q="container",r=i.createElement("input",i.__spread({},this.props,{type:"file",className:l(this.props.className,"_n"),ref:"fileInput"}),undefined);if(this.props.display==='inline-block')return (i.createElement(h,{className:p,ref:q},this.props.children,r));return (i.createElement("span",{className:p,ref:q},this.props.children,r));},componentDidMount:function(){var p=i.findDOMNode(this.refs.fileInput),q=i.findDOMNode(this.refs.container),r=q.firstChild;k(r.nodeName==='A');r.setAttribute('rel','ignore');this._fileInput=new g(q,r,p);},componentWillUnmount:function(){this._fileInput.destroy();this._fileInput=null;},getFileInput:function(){return this._fileInput;},focus:function(){var p=i.findDOMNode(this.refs.fileInput);if(!p.disabled)p.focus();}});e.exports=o;},null);
__d("ReactComposerInstantMediaAttachmentSelector.react",["FileInput.react","ReactComponentWithPureRenderMixin","React","ReactComposerMediaAttachmentSelector.react","ReactComposerMediaUtils","ComposerTargetData","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i,o=n.PropTypes,p=i.createClass({displayName:"ReactComposerInstantMediaAttachmentSelector",mixins:[h],propTypes:{mediaAcceptParam:o.shape({photos:o.string,both:o.string}).isRequired,onClick:o.func.isRequired,onFilesSelected:o.func.isRequired,targetData:o.instanceOf(l).isRequired},render:function(){return (i.createElement(g,{display:"inline",accept:this.props.mediaAcceptParam.both,multiple:this.props.targetData.targetSupportsMultiplePhotos,onChange:this._onFilesSelected,onClick:this.props.onClick,ref:"fileInput",role:"button",tabIndex:"0"},i.createElement(j,{label:m._("Add Photos\/Video")})));},_onFilesSelected:function(event){this.props.onFilesSelected(event);k.clearInput(this.refs.fileInput.getFileInput());}});e.exports=p;},null);
__d("ReactComposerMediaFilePickerMixin",["ReactComposerAttachmentLoader","ReactComposerAttachmentType","ReactComposerContextMixin","ReactComposerMediaUtils","ReactComposerPhotoUploadActions","Bootloader","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={mixins:[i],componentWillMount:function(){m(this.props.photoLimit);m(this.props.targetData);},_onFileInputClick:function(){k.inputClicked(this.context.composerID);g.load(this.context.composerID,h.MEDIA,j.bootload,j.getBootstrapURI(this.context.composerID,this.context.targetID,this.context.actorID));},_onFilesSelected:function(event){l.loadModules(["ReactComposerPhotoUploader","ReactComposerAttachmentActions"],function(o,p){var q=new o(this.context.composerID,this.props.photoLimit,this.context.actorID);p.selectAttachment(this.context.composerID,h.MEDIA);j.uploadPhotosOrVideo(this.context.composerID,event.target,q,this.props.targetData.targetSupportsMultiplePhotos);}.bind(this));}};e.exports=n;},null);
__d("ReactComposerInstantMediaAttachmentSelectorContainer.react",["ReactComposerInstantMediaAttachmentSelector.react","ReactComposerMediaFilePickerMixin","ComposerTargetData","ReactComponentWithPureRenderMixin","React"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=k,m=l.PropTypes,n=k.createClass({displayName:"ReactComposerInstantMediaAttachmentSelectorContainer",mixins:[j,h],propTypes:{mediaAcceptParam:m.shape({photos:m.string,both:m.string}).isRequired,photoLimit:m.number.isRequired,targetData:m.instanceOf(i).isRequired},render:function(){return (k.createElement(g,k.__spread({},this.props,{onClick:this._onFileInputClick,onFilesSelected:this._onFilesSelected})));}});e.exports=n;},null);
__d("XNotesComposerController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/notes\/composer\/",{page_id:{type:"Int"}});},null);
__d("ReactComposerNotesAttachmentSelector.react",["ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerContextMixin","AsyncRequest","ReactComponentWithPureRenderMixin","React","XNotesComposerController","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=l,q=p.PropTypes,r=l.createClass({displayName:"ReactComposerNotesAttachmentSelector",mixins:[i,k],propTypes:{label:q.string},getDefaultProps:function(){return {label:n._("Write Note")};},render:function(){return (l.createElement(g,{attachmentID:h.NOTES,label:this.props.label,icon:o('/images/litestand/composer/icons/addfile.png'),onSelected:this._onSelected}));},_onSelected:function(){new j(m.getURIBuilder().getURI()).setMethod('POST').setStatusElement(this.context.composerID).send();}});e.exports=r;},null);
__d("ReactComposerFeedStore",["ReactComposerActionStore","ReactComposerMediaConfig","ReactComposerPostUtils"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();for(var j in g)if(g.hasOwnProperty(j))l[j]=g[j];var k=g===null?null:g.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=g;function l(){"use strict";g.call(this);}l.prototype.__onPostStarted=function(m){"use strict";i.post({actorID:m.actorID,composerID:m.composerID,contextInfo:m.config.contextInfo,targetID:m.targetID});};l.prototype.__canPost=function(m){"use strict";return !i.isPostButtonDisabled(m.composerID,h.photo.limit);};e.exports=new l();},null);
__d("ReactFeedComposer.react",["ReactComposer.react","ReactComposerAttachmentType","ReactComposerBodyContainer.react","ReactComposerContextProviderMixin","ReactComposerFeedStore","ReactComposerHeader.react","ReactComposerMediaAttachmentSelector.react","ReactComposerInstantMediaAttachmentSelectorContainer.react","ReactComposerMediaLazyAttachment.react","ReactComposerNotesAttachmentSelector.react","ReactComposerMLEAttachmentSelector.react","ReactComposerMLELazyAttachment.react","ReactComposerQAndAAttachmentSelector.react","ReactComposerQAndALazyAttachment.react","ReactComposerStatusAttachmentSelector.react","ReactComposerStatusLazyAttachment.react","ComposerTargetData","DOMContainer.react","React","LitestandComposer","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();var ca=y,da=ca.PropTypes,ea=y.createClass({displayName:"ReactFeedComposer",mixins:[j],propTypes:{contextConfig:da.object.isRequired,config:da.shape({attachmentsConfig:da.object.isRequired,mediaAcceptParam:da.shape({photos:da.string,both:da.string}).isRequired,showExpandedComposer:da.bool,targetData:da.instanceOf(w).isRequired}).isRequired},componentDidMount:function(){k.registerComposerID(this.props.contextConfig.composerID);z.initComposer(this.props.contextConfig.composerID);},render:function(){var fa=this._getAdditionalAttachmentComponents(),ga=fa[0],ha=fa[1];return (y.createElement(g,{className:"_5n2b",loggingConfig:this.props.config.loggingConfig},y.createElement(l,{showDelimiter:true},y.createElement(u,{label:ba._(["Update Status","155d6cd2b97f05fd0d45ff038fb8f47d"])}),ga),y.createElement(i,{expanded:this.props.config.showExpandedComposer},y.createElement(v,{config:this.props.config,selected:true,expanded:this.props.config.showExpandedComposer}),ha)));},_getAdditionalAttachmentComponents:function(){var fa=this.props.config.attachmentsConfig,ga=[],ha=[],ia=fa[h.ALBUM].enabled,ja=fa[h.NOTES].enabled,ka=fa[h.QANDA].enabled,la=fa[h.MLE].enabled;ga.push(this._getMediaAttachmentSelector());ha.push(y.createElement(o,{key:"media",config:this.props.config}));if(ia)ga.push(y.createElement(x,{key:"album",display:"block"},fa[h.ALBUM].createAlbumLink));if(ja)ga.push(y.createElement(p,{key:"notes"}));if(ka){ga.push(y.createElement(s,{key:"qanda"}));ha.push(y.createElement(t,{key:"qanda",config:this.props.config}));}if(la){ga.push(y.createElement(q,{key:"mle",label:ba._("Add a Life Event")}));ha.push(y.createElement(r,{key:"mle",config:this.props.config}));}return [ga,ha];},_getMediaAttachmentSelector:function(){var fa=this.props.config.attachmentsConfig[h.MEDIA];if(fa.openFileBrowserImmediately)return (y.createElement(n,{key:"media",mediaAcceptParam:this.props.config.mediaAcceptParam,photoLimit:fa.photoLimit,targetData:this.props.config.targetData}));return (y.createElement(m,{key:"media",label:ba._("Add Photos\/Video")}));}});e.exports=ea;},null);